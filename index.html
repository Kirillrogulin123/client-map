
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<title>География клиентов</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    html, body { height: 100%; margin: 0; padding: 0; font-family: Arial, sans-serif; background: #f4f4f4; }
    header {
        background: #2c3e50 url('logo_header.png') no-repeat center;
        background-size: contain;
        color: white;
        padding: 20px;
        text-align: center;
        position: relative;
        opacity: 0.95;
    }
    h1 { margin: 0; font-size: 26px; }
    p { margin: 5px 0 0; }
    #map { width: 100%; height: calc(100% - 140px); }
    .leaflet-control-layers-expanded { max-height: 250px; overflow-y: auto; }
    #search {
        position: absolute;
        top: 10px;
        right: 20px;
        padding: 5px;
        border-radius: 4px;
        border: none;
        outline: none;
    }
</style>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
</head>

<body>
<header>
    <h1>География клиентов компании</h1>
    <p>Интерактивная карта с фильтрами, кластерами и поиском по номеру клиента</p>
    <input type="text" id="search" placeholder="Поиск по № клиента">
</header>
<div id="map"></div>

<script>
    const map = L.map('map', {{center: [58, 60], zoom: 4}});

    const light = L.tileLayer('https://{{s}}.tile.openstreetmap.org/{{z}}/{{x}}/{{y}}.png', {{
        attribution: '&copy; OpenStreetMap contributors',
        maxZoom: 19
    }});

    const dark = L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_dark/{{z}}/{{x}}/{{y}}{{r}}.png', {{
        attribution: '&copy; Stadia Maps, &copy; OpenMapTiles &copy; OpenStreetMap contributors',
        maxZoom: 20
    }});

    light.addTo(map);

    const baseMaps = {{
        "Светлая тема": light,
        "Тёмная тема": dark
    }};

    const markers = L.markerClusterGroup();
    const markerList = [];

    const МоскваGroup = L.layerGroup().addTo(map);
    markers.addLayer(МоскваGroup);
    
        const marker_1 = L.marker([55.75822, 37.57289], { title: "1" })
            .bindPopup("<b>Клиент №1</b><br>г. Москва, вн.тер. г. Муниципальный округ Пресненский, пер. Капранова, д. 3, стр. 3, помещ. 1/2<br><i>Москва</i>");
        marker_1.addTo(МоскваGroup);
        markerList.push(marker_1);
        
        const marker_5 = L.marker([55.777555, 37.649454], { title: "5" })
            .bindPopup("<b>Клиент №5</b><br>г. Москва, вн.тер.г. Муниципальный округ Красносельский, ул. Каланчевская, д. 16, стр. 1<br><i>Москва</i>");
        marker_5.addTo(МоскваGroup);
        markerList.push(marker_5);
        
        const marker_6 = L.marker([55.755819, 37.617644], { title: "6" })
            .bindPopup("<b>Клиент №6</b><br>г. Москва, вн.тер.г. Муниципальный округ Пресненский, наб. Пресненская, д. 12, помещ. 10/45<br><i>Москва</i>");
        marker_6.addTo(МоскваGroup);
        markerList.push(marker_6);
        
        const marker_26 = L.marker([55.740132, 37.663809], { title: "26" })
            .bindPopup("<b>Клиент №26</b><br>г. Москва, вн.тер.г. Муниципальный округ Таганский, ул. Таганская, д. 17-23<br><i>Москва</i>");
        marker_26.addTo(МоскваGroup);
        markerList.push(marker_26);
        
        const marker_35 = L.marker([55.755819, 37.617644], { title: "35" })
            .bindPopup("<b>Клиент №35</b><br>г. Москва, вн.тер. г. Муниципальный округ Пресненский, ул. Антонова-Овсеенко, д. 4, помещ. 1/1б<br><i>Москва</i>");
        marker_35.addTo(МоскваGroup);
        markerList.push(marker_35);
        
    const БерезовскийGroup = L.layerGroup().addTo(map);
    markers.addLayer(БерезовскийGroup);
    
        const marker_2 = L.marker([56.936097, 60.787423], { title: "2" })
            .bindPopup("<b>Клиент №2</b><br>Свердловская обл., г. Березовский, тер. П.Ленинский, зд. 28, стр. 1<br><i>Березовский</i>");
        marker_2.addTo(БерезовскийGroup);
        markerList.push(marker_2);
        
    const СамарскаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(СамарскаяGroup);
    
        const marker_3 = L.marker([53.181337, 50.076442], { title: "3" })
            .bindPopup("<b>Клиент №3</b><br>443099, Самарская область, г Самара, ул Водников, д. 28/30, этаж 4 ком./офис 68.1/404<br><i>Самарская</i>");
        marker_3.addTo(СамарскаяGroup);
        markerList.push(marker_3);
        
    const НижнекамскGroup = L.layerGroup().addTo(map);
    markers.addLayer(НижнекамскGroup);
    
        const marker_4 = L.marker([55.619564, 51.929882], { title: "4" })
            .bindPopup("<b>Клиент №4</b><br>респ. Татарстан, г. Нижнекамск, ул. Соболековская, д. 43, к. 1, каб 3-3<br><i>Нижнекамск</i>");
        marker_4.addTo(НижнекамскGroup);
        markerList.push(marker_4);
        
    const ЛенинградскаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(ЛенинградскаяGroup);
    
        const marker_7 = L.marker([60.266478, 29.616745], { title: "7" })
            .bindPopup("<b>Клиент №7</b><br>188820, Ленинградская область, Выборгский район, городской поселок Рощино, Первомайская ул, д. 2ш, кабинет 1<br><i>Ленинградская</i>");
        marker_7.addTo(ЛенинградскаяGroup);
        markerList.push(marker_7);
        
        const marker_13 = L.marker([60.16015, 30.213298], { title: "13" })
            .bindPopup("<b>Клиент №13</b><br>188632, Ленинградская область, Всеволожский р-н, г Сертолово, мкр. Сертолово-2, Тихвинская ул, д. 8 к. 1, помещ. 1-н ч.п. 1-н<br><i>Ленинградская</i>");
        marker_13.addTo(ЛенинградскаяGroup);
        markerList.push(marker_13);
        
        const marker_24 = L.marker([59.397258, 30.178408], { title: "24" })
            .bindPopup("<b>Клиент №24</b><br>188354, Ленинградская область, Гатчинский район, тер Промышленная зона Орловские ключи, д. 1<br><i>Ленинградская</i>");
        marker_24.addTo(ЛенинградскаяGroup);
        markerList.push(marker_24);
        
        const marker_27 = L.marker([59.574654, 30.127716], { title: "27" })
            .bindPopup("<b>Клиент №27</b><br>188300, Ленинградская область, Гатчинский район, город Гатчина, пр-кт 25 Октября, д. 42, офис 106<br><i>Ленинградская</i>");
        marker_27.addTo(ЛенинградскаяGroup);
        markerList.push(marker_27);
        
        const marker_32 = L.marker([59.378053, 28.601209], { title: "32" })
            .bindPopup("<b>Клиент №32</b><br>188480, Ленинградская область, Кингисеппский район, город Кингисепп, Октябрьская ул., д. 26, пом/офис 1-н/1<br><i>Ленинградская</i>");
        marker_32.addTo(ЛенинградскаяGroup);
        markerList.push(marker_32);
        
    const Санкт_ПетербургGroup = L.layerGroup().addTo(map);
    markers.addLayer(Санкт_ПетербургGroup);
    
        const marker_8 = L.marker([59.907433, 30.276522], { title: "8" })
            .bindPopup("<b>Клиент №8</b><br>г. Санкт-Петербург, вн.тер. г. Муниципальный округ Екатерингофский, пр-кт Старо-Петергофский, д. 22, к. 2, помещ. 9-Н<br><i>Санкт-Петербург</i>");
        marker_8.addTo(Санкт_ПетербургGroup);
        markerList.push(marker_8);
        
        const marker_12 = L.marker([59.881656, 30.273908], { title: "12" })
            .bindPopup("<b>Клиент №12</b><br>г. Санкт-Петербург, вн.тер.г. Муниципальный округ Автово, ул. Возрождения, д. 20а, литера А, помещ. 12-Н, ком. 17-3<br><i>Санкт-Петербург</i>");
        marker_12.addTo(Санкт_ПетербургGroup);
        markerList.push(marker_12);
        
        const marker_19 = L.marker([59.993622, 30.244632], { title: "19" })
            .bindPopup("<b>Клиент №19</b><br>г. Санкт-Петербург, вн.тер.г. Муниципальный округ № 65, ул. Стародеревенская, д. 11, к. 2, офис 327<br><i>Санкт-Петербург</i>");
        marker_19.addTo(Санкт_ПетербургGroup);
        markerList.push(marker_19);
        
        const marker_29 = L.marker([59.859099, 30.325318], { title: "29" })
            .bindPopup("<b>Клиент №29</b><br>г. Санкт-Петербург, вн.тер.г. муниципальный округ Московская застава, ул. Гастелло, д. 14, литера А, офис 10с №32<br><i>Санкт-Петербург</i>");
        marker_29.addTo(Санкт_ПетербургGroup);
        markerList.push(marker_29);
        
        const marker_36 = L.marker([59.891868, 30.489494], { title: "36" })
            .bindPopup("<b>Клиент №36</b><br>г. Санкт-Петербург, вн.тер. г. муниципальный округ Народный, ул. Тельмана, д. 51, лит А<br><i>Санкт-Петербург</i>");
        marker_36.addTo(Санкт_ПетербургGroup);
        markerList.push(marker_36);
        
    const ИркутскаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(ИркутскаяGroup);
    
        const marker_9 = L.marker([52.749186, 103.667407], { title: "9" })
            .bindPopup("<b>Клиент №9</b><br>665451, Иркутская область, город Усолье-Сибирское, Интернациональная ул., д.87<br><i>Иркутская</i>");
        marker_9.addTo(ИркутскаяGroup);
        markerList.push(marker_9);
        
    const КостромскаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(КостромскаяGroup);
    
        const marker_10 = L.marker([57.732613, 41.001975], { title: "10" })
            .bindPopup("<b>Клиент №10</b><br>156016, Костромская область, город Кострома, Профсоюзная ул., д. 14а, помещ. 1 каб.3<br><i>Костромская</i>");
        marker_10.addTo(КостромскаяGroup);
        markerList.push(marker_10);
        
    const Не_определеноGroup = L.layerGroup().addTo(map);
    markers.addLayer(Не_определеноGroup);
    
        const marker_11 = L.marker([55.729062, 37.570375], { title: "11" })
            .bindPopup("<b>Клиент №11</b><br>119435, город Москва, Малая Пироговская ул, д. 13 стр. 1, офис 318<br><i>Не определено</i>");
        marker_11.addTo(Не_определеноGroup);
        markerList.push(marker_11);
        
        const marker_14 = L.marker([59.989931, 30.241865], { title: "14" })
            .bindPopup("<b>Клиент №14</b><br>197374, город Санкт-Петербург, Мебельная ул., д. 12 к. 1 литер а, помещ. 20н офис 110<br><i>Не определено</i>");
        marker_14.addTo(Не_определеноGroup);
        markerList.push(marker_14);
        
        const marker_16 = L.marker([59.928054, 30.344435], { title: "16" })
            .bindPopup("<b>Клиент №16</b><br>191002, город Санкт-Петербург, пер. Щербаков, д.17а литера б, пом 6н<br><i>Не определено</i>");
        marker_16.addTo(Не_определеноGroup);
        markerList.push(marker_16);
        
        const marker_17 = L.marker([55.740132, 37.663809], { title: "17" })
            .bindPopup("<b>Клиент №17</b><br>109147, город Москва, Таганская ул, д. 17-23<br><i>Не определено</i>");
        marker_17.addTo(Не_определеноGroup);
        markerList.push(marker_17);
        
        const marker_22 = L.marker([60.03909, 29.988118], { title: "22" })
            .bindPopup("<b>Клиент №22</b><br>197701, город Санкт-Петербург, Левашовское ш, д. 20 стр. 1, помещ. 7-н ком. 41<br><i>Не определено</i>");
        marker_22.addTo(Не_определеноGroup);
        markerList.push(marker_22);
        
        const marker_25 = L.marker([59.94015, 30.418366], { title: "25" })
            .bindPopup("<b>Клиент №25</b><br>195027, город Санкт-Петербург, Брантовская дор., д. 3<br><i>Не определено</i>");
        marker_25.addTo(Не_определеноGroup);
        markerList.push(marker_25);
        
        const marker_28 = L.marker([59.574654, 30.127716], { title: "28" })
            .bindPopup("<b>Клиент №28</b><br>-<br><i>Не определено</i>");
        marker_28.addTo(Не_определеноGroup);
        markerList.push(marker_28);
        
        const marker_30 = L.marker([62.088999, 49.587291], { title: "30" })
            .bindPopup("<b>Клиент №30</b><br>169045, Республика Коми, Усть-Вымский район, поселок городского типа Жешарт, ул. Гагарина, д.1<br><i>Не определено</i>");
        marker_30.addTo(Не_определеноGroup);
        markerList.push(marker_30);
        
        const marker_31 = L.marker([59.938676, 30.314494], { title: "31" })
            .bindPopup("<b>Клиент №31</b><br>197136, город Санкт-Петербург, ул. Всеволода Вишневского, д. 12 литер а, помещ. 2-н, к. 703<br><i>Не определено</i>");
        marker_31.addTo(Не_определеноGroup);
        markerList.push(marker_31);
        
        const marker_34 = L.marker([59.874964, 30.312661], { title: "34" })
            .bindPopup("<b>Клиент №34</b><br>196128, город Санкт-Петербург, Варшавская ул., д.19 корпус 1.литер а .пом.27-н, офис 9<br><i>Не определено</i>");
        marker_34.addTo(Не_определеноGroup);
        markerList.push(marker_34);
        
    const ТомскаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(ТомскаяGroup);
    
        const marker_15 = L.marker([56.463128, 84.957018], { title: "15" })
            .bindPopup("<b>Клиент №15</b><br>634034, Томская область, город Томск, ул. Белинского, д.53<br><i>Томская</i>");
        marker_15.addTo(ТомскаяGroup);
        markerList.push(marker_15);
        
    const УзловаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(УзловаяGroup);
    
        const marker_18 = L.marker([53.979812, 38.165024], { title: "18" })
            .bindPopup("<b>Клиент №18</b><br>обл. Тульская, м.р-н Узловский, г. Узловая, ул. Гагарина, д. 16, офис 103<br><i>Узловая</i>");
        marker_18.addTo(УзловаяGroup);
        markerList.push(marker_18);
        
    const Нижний_НовгородGroup = L.layerGroup().addTo(map);
    markers.addLayer(Нижний_НовгородGroup);
    
        const marker_20 = L.marker([56.326799, 44.00652], { title: "20" })
            .bindPopup("<b>Клиент №20</b><br>обл. Нижегородская, г. Нижний Новгород, ул. Чаадаева, д. 1, помещ. 17-19<br><i>Нижний Новгород</i>");
        marker_20.addTo(Нижний_НовгородGroup);
        markerList.push(marker_20);
        
    const БрянскGroup = L.layerGroup().addTo(map);
    markers.addLayer(БрянскGroup);
    
        const marker_21 = L.marker([53.2434, 34.363991], { title: "21" })
            .bindPopup("<b>Клиент №21</b><br>обл. Брянская, г. Брянск, д. 44б, офис 11<br><i>Брянск</i>");
        marker_21.addTo(БрянскGroup);
        markerList.push(marker_21);
        
    const оGroup = L.layerGroup().addTo(map);
    markers.addLayer(оGroup);
    
        const marker_23 = L.marker([57.688105, 62.991718], { title: "23" })
            .bindPopup("<b>Клиент №23</b><br>обл. Свердловская, г.о. Ирбитское, д. Фомина, ул. Советская, д. 72<br><i>о</i>");
        marker_23.addTo(оGroup);
        markerList.push(marker_23);
        
    const МосковскаяGroup = L.layerGroup().addTo(map);
    markers.addLayer(МосковскаяGroup);
    
        const marker_33 = L.marker([55.756999, 37.860585], { title: "33" })
            .bindPopup("<b>Клиент №33</b><br>143964, Московская область, г Реутов, Ашхабадская ул, д. 27, этаж 1 помещ./ком. IV/5<br><i>Московская</i>");
        marker_33.addTo(МосковскаяGroup);
        markerList.push(marker_33);
        
const overlays = {
"Москва": МоскваGroup,
"Березовский": БерезовскийGroup,
"Самарская": СамарскаяGroup,
"Нижнекамск": НижнекамскGroup,
"Ленинградская": ЛенинградскаяGroup,
"Санкт-Петербург": Санкт_ПетербургGroup,
"Иркутская": ИркутскаяGroup,
"Костромская": КостромскаяGroup,
"Не определено": Не_определеноGroup,
"Томская": ТомскаяGroup,
"Узловая": УзловаяGroup,
"Нижний Новгород": Нижний_НовгородGroup,
"Брянск": БрянскGroup,
"о": оGroup,
"Московская": МосковскаяGroup,
};

    map.addLayer(markers);

    const layerControl = L.control.layers(baseMaps, overlays, { collapsed: false }).addTo(map);

    // Поиск по номеру клиента
    const searchInput = document.getElementById('search');
    searchInput.addEventListener('input', function() {
        const value = this.value.trim();
        markerList.forEach(m => {
            if (!value || m.options.title.includes(value)) {
                markers.addLayer(m);
            } else {
                markers.removeLayer(m);
            }
        });
    });
</script>
</body>
</html>
